## 📄 `README.md`

````markdown
# 🔗 URL Shortener API (FastAPI)

A simple and lightweight URL shortener service built using **FastAPI**. It supports Base62-based short URL generation, visitor tracking (IP, browser, device, and location), rate limiting, and analytics reporting.

---

## 🚀 Features

- Shorten long URLs via API (`POST /shorten`)
- Redirect to original URLs via short code (`GET /<short_code>`)
- Log visitor metadata:
  - IP Address
  - Device Type & Browser
  - Approximate Location (via IP geolocation API)
  - Timestamp (UTC, timezone-aware)
- View analytics (`GET /stats/<short_code>`)
- Rate limiting to prevent abuse (5 requests/min per IP)
- In-memory storage (no database setup required)

---

## 🛠 Tech Stack

- **Python 3.12+**
- **FastAPI**
- **Uvicorn** (ASGI server)
- **Requests** (for geolocation API)
- **user-agents** (for parsing device/browser info)
- **Pytest** (for unit testing)

---

## 🗂️ Final Project Structure

```plaintext
URL-Shortener/
├── .venv/                    # (Your virtual environment - DO NOT zip this!)
├── main.py                   # Main FastAPI app file
├── test_main.py              # Pytest unit tests
├── README.md                 # Project documentation
├── requirements.txt          # Dependency list
└── __pycache__/              # (Optional - auto-generated by Python, ignore or delete)
```

---

### Explanation of Each File

| File/Folder        | Purpose                                                                      |
| ------------------ | ---------------------------------------------------------------------------- |
| `main.py`          | All your route logic, URL shortening, redirection, logging, analytics        |
| `test_main.py`     | Unit tests using `pytest` and `TestClient`                                   |
| `README.md`        | Project setup instructions, API usage, features                              |
| `requirements.txt` | Installable list of dependencies                                             |
| `.venv/`           | Virtual environment for isolated Python setup (DO NOT include in submission) |

---

## 📦 Setup Instructions

1. **Clone the repo:**

```bash
git clone https://github.com/your-username/url-shortener.git
cd url-shortener
```
````

2. **Create a virtual environment:**

```bash
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate
```

3. **Install dependencies:**

```bash
pip install -r requirements.txt
```

4. **Run the application:**

```bash
uvicorn main:app --reload
```

Visit: [http://localhost:8000/docs](http://localhost:8000/docs) for interactive Swagger UI.

---

## API Usage Examples

### Shorten a URL

`POST /shorten`

**Request Body:**

```json
{
	"url": "https://example.com"
}
```

**Response:**

```json
{
	"short_url": "http://localhost:8000/a"
}
```

---

### Redirect to Original

`GET /a`  
Redirects to `https://example.com` and logs the visit.

---

### Get Analytics

`GET /stats/a`

**Response:**

```json
{
	"short_code": "a",
	"original_url": "https://example.com",
	"visit_count": 1,
	"visitors": [
		{
			"ip": "127.0.0.1",
			"device": "PC",
			"browser": "Chrome 122.0",
			"location": "Mumbai, India",
			"timestamp": "2025-03-28T17:12:30.000Z"
		}
	]
}
```

---

## Run Unit Tests

```bash
pytest test_main.py
```

---

## 🔐 Security & Privacy

- All inputs validated using `pydantic.HttpUrl`
- Rate limited to 5 requests per minute per IP
- No exact GPS or street-level location data stored
- Ethical logging principles followed

---

## 📄 Dependencies

List of required packages (include in `requirements.txt`):

```
fastapi
uvicorn
requests
user-agents
pytest
```

---

## 📌 Notes

- This is a minimal version using in-memory dictionaries. In production, need to replace with a real database like Redis or PostgreSQL (you can use your favorite ORM).
- The short codes are generated using Base62 encoding of an incrementing counter.
